!function(){"use strict";var n={426:function(n,e,t){var o=t(81),s=t.n(o),i=t(645),r=t.n(i),l=t(667),a=t.n(l),c=new URL(t(69),t.b),d=new URL(t(850),t.b),u=new URL(t(365),t.b),f=new URL(t(831),t.b),h=new URL(t(295),t.b),b=new URL(t(875),t.b),m=new URL(t(713),t.b),p=new URL(t(434),t.b),g=new URL(t(625),t.b),v=new URL(t(820),t.b),w=new URL(t(179),t.b),y=new URL(t(267),t.b),x=r()(s());x.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Orbitron&family=Rubik+Mono+One&display=swap);"]);var k=a()(c),S=a()(d),$=a()(u),C=a()(f),R=a()(h),L=a()(b),T=a()(m),F=a()(p),B=a()(g),E=a()(v),M=a()(w),z=a()(y);x.push([n.id,":root {\n  --bg-color-light: #f7fcd7;\n  --bg-color-dark: #0f004d;\n  --border-color-light: #ff7f00;\n  --border-color-dark: #cf40cd;\n  --font-color-light: #ad1818;\n  --font-color-dark: #2391cd;\n  --game-color-light: #e4c0ff;\n  --game-color-dark: #1100af;\n  --h1-color-light: #25e1d4;\n  --h1-color-dark: #fff164;\n\n  --font-size-regular-mobile: ;\n  --font-size-regular-tablet: ;\n  --font-size-regular-desktop: ;\n}\n\nh1, h3, h4 {\n  margin: 0;\n  padding: 0;\n  font-family: 'Rubik Mono One', sans-serif;\n}\n\nul {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n\n.body {\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  font-family: 'Orbitron', sans-serif;\n  font-size: 2vw;\n}\n\n.body.light {\n  background-color: var(--bg-color-light);\n  color: var(--font-color-light);\n}\n\n.body.dark {\n  background-color: var(--bg-color-dark);\n  color: var(--font-color-dark);\n}\n\n.canvas {\n  box-sizing: border-box;\n  margin-top: 2vw;\n}\n\n.container-game {\n  box-sizing: border-box;\n  border-radius: 20px;\n  margin-top: 20px;\n  padding: 2vw;\n}\n\n.container-btn {\n  display: flex;\n  justify-content: center;\n}\n\n.container-game.light, .pop-up.light, .results.light {\n  border: solid 0.5vw var(--border-color-light);\n  background-color: var(--game-color-light);\n}\n\n.container-game.dark, .pop-up.dark, .results.dark {\n  border: solid 0.5vw var(--border-color-dark);\n  background-color: var(--game-color-dark);\n}\n\n.btn {\n  align-items: center;\n  border: none;\n  border-radius: 20px;\n  box-sizing: border-box;\n  cursor: pointer;\n  display: flex;\n  font-family: 'Orbitron', sans-serif;\n  font-size: 2vw;\n  justify-content: center;\n  margin: 5px;\n  outline: none;\n  padding: 10px;\n}\n\n.btn.light {\n  background-color: #ffc0cb;\n  border: solid 1px #a65e5e;\n  border-top: solid 1px #ffffff;\n  border-left: solid 1px #ffffff;\n  color: var(--font-color-light);\n}\n\n.btn.dark {\n  background-color: #13121e;\n  border: solid 1px #0f0f67;\n  border-top: solid 1px #3b55ba;\n  border-left: solid 1px #3b55ba;\n  color: var(--font-color-dark);\n}\n\n.btn_close {\n  align-self: flex-start;\n  flex-shrink: 0;\n  height: 3vw;\n  line-height: 20px;\n  padding: 0;\n  width: 3vw;\n}\n\n.header {\n  align-content: center;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  width: 100%;\n}\n\n.heading {\n  margin: 0;\n  padding: 0;\n  font-size: 5vw;\n}\n\n.heading.light {\n  color: var(--h1-color-light);\n}\n\n.heading.dark {\n  color: var(--h1-color-dark);\n}\n\n.input-bombs {\n  margin: 0 1vw;\n  background-color: transparent;\n  outline: none;\n  border: none;\n  font-family: inherit;\n  font-size: 2vw;\n}\n\n.input-bombs.light {\n  color: var(--font-color-light);\n}\n\n.input-bombs.dark {\n  color: var(--font-color-dark);\n}\n\n.input-bombs::-webkit-inner-spin-button,\n.input-bombs::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\n.moves, .seconds {\n  width: 7vw;\n  text-align: center;\n}\n\n.pop-up {\n  border-radius: 20px;\n  position: absolute;\n  top: -45px;\n  right: -145px;\n  display: flex;\n  align-items: center;\n  height: 10wv;\n  padding: 2vw;\n  width: 20vw;\n  z-index: 10;\n}\n\n.pop-up::before {\n  content: '';\n  display: block;\n  position: fixed;\n  z-index: -10;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n}\n\n.results {\n  border-radius: 20px;\n  margin-top: 30px;\n  padding: 20px;\n  width: 30vw;\n}\n\n.results-list {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.result-heading {\n  font-size: 2vw;\n}\n\n.result-row {\n  display: flex;\n  justify-content: space-between;\n  margin: 5px 0px;\n  text-align: center;\n  width: 100%;\n}\n\n.result-number {\n  width: 10%;\n}\n\n.result-moves {\n  width: 30%;\n}\n\n.result-seconds {\n  width: 30%;\n}\n\n.btn-icon {\n  width: 2.5vw;\n  height: 2.5vw;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n}\n\n.btn-icon.switch-theme.light {\n  background-image: url("+k+");\n}\n\n.btn-icon.switch-theme.dark {\n  background-image: url("+S+");\n}\n\n.btn-icon.new-game.dark {\n  background-image: url("+$+");\n}\n\n.btn-icon.new-game.light {\n  background-image: url("+C+");\n}\n\n.btn-icon.set-bombs.dark {\n  background-image: url("+R+");\n}\n\n.btn-icon.set-bombs.light {\n  background-image: url("+L+");\n}\n\n.btn-icon.close.light {\n  background-image: url("+T+");\n}\n\n.btn-icon.close.dark {\n  background-image: url("+F+");\n}\n\n.btn-icon.toggle-sound.light {\n  background-image: url("+B+");\n}\n\n.btn-icon.toggle-sound.dark {\n  background-image: url("+E+");\n}\n\n.btn-icon.toggle-sound.sound-off.light {\n  background-image: url("+M+");\n}\n\n.btn-icon.toggle-sound.sound-off.dark {\n  background-image: url("+z+");\n}\n\n.top-bar {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  position: relative;\n}\n\n@media (min-width: 900px) {\n  .result-heading {\n    font-size: 1.5vw;\n  }\n}",""]),e.Z=x},645:function(n){n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,s,i){"string"==typeof n&&(n=[[null,n,void 0]]);var r={};if(o)for(var l=0;l<this.length;l++){var a=this[l][0];null!=a&&(r[a]=!0)}for(var c=0;c<n.length;c++){var d=[].concat(n[c]);o&&r[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),s&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=s):d[4]="".concat(s)),e.push(d))}},e}},667:function(n){n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},81:function(n){n.exports=function(n){return n[1]}},91:function(n){n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),e.hash&&(n+=e.hash),e.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(n)?'"'.concat(n,'"'):n):n}},379:function(n){var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var i={},r=[],l=0;l<n.length;l++){var a=n[l],c=o.base?a[0]+o.base:a[0],d=i[c]||0,u="".concat(c," ").concat(d);i[c]=d+1;var f=t(u),h={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==f)e[f].references++,e[f].updater(h);else{var b=s(h,o);o.byIndex=l,e.splice(l,0,{identifier:u,updater:b,references:1})}r.push(u)}return r}function s(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,s){var i=o(n=n||[],s=s||{});return function(n){n=n||[];for(var r=0;r<i.length;r++){var l=t(i[r]);e[l].references--}for(var a=o(n,s),c=0;c<i.length;c++){var d=t(i[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=a}}},569:function(n){var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},216:function(n){n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:function(n,e,t){n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:function(n){n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var s=void 0!==t.layer;s&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,s&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:function(n){n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},986:function(n,e,t){n.exports=t.p+"assets/favicon.ico"},295:function(n,e,t){n.exports=t.p+"assets/icons/bomb-dark.svg"},875:function(n,e,t){n.exports=t.p+"assets/icons/bomb-light.svg"},434:function(n,e,t){n.exports=t.p+"assets/icons/close-dark.svg"},713:function(n,e,t){n.exports=t.p+"assets/icons/close-light.svg"},365:function(n,e,t){n.exports=t.p+"assets/icons/new-game-dark.svg"},831:function(n,e,t){n.exports=t.p+"assets/icons/new-game-light.svg"},267:function(n,e,t){n.exports=t.p+"assets/icons/sound-off-dark.svg"},179:function(n,e,t){n.exports=t.p+"assets/icons/sound-off-light.svg"},820:function(n,e,t){n.exports=t.p+"assets/icons/sound-on-dark.svg"},625:function(n,e,t){n.exports=t.p+"assets/icons/sound-on-light.svg"},69:function(n,e,t){n.exports=t.p+"assets/icons/theme-dark.svg"},850:function(n,e,t){n.exports=t.p+"assets/icons/theme-light.svg"}},e={};function t(o){var s=e[o];if(void 0!==s)return s.exports;var i=e[o]={id:o,exports:{}};return n[o](i,i.exports,t),i.exports}t.m=n,t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,{a:e}),e},t.d=function(n,e){for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},function(){var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var o=e.getElementsByTagName("script");if(o.length)for(var s=o.length-1;s>-1&&!n;)n=o[s--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n}(),t.b=document.baseURI||self.location.href,t.nc=void 0,function(){var n={};t.r(n),t.d(n,{cells:function(){return R},dark:function(){return T},light:function(){return L},numbers:function(){return C}});var e=t(91),o=t.n(e),s=new URL(t(986),t.b),i=(o()(s),t(379)),r=t.n(i),l=t(795),a=t.n(l),c=t(569),d=t.n(c),u=t(565),f=t.n(u),h=t(216),b=t.n(h),m=t(589),p=t.n(m),g=t(426),v={};v.styleTagTransform=p(),v.setAttributes=f(),v.insert=d().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=b(),r()(g.Z,v),g.Z&&g.Z.locals&&g.Z.locals;var w={mobile:{easy:.05,medium:.04,hard:.025},tablet:{easy:.04,medium:.03,hard:.02},desktop:{easy:.03,medium:.025,hard:.017}},y={bomb:new Audio("./assets/audio/bomb.wav"),clickBtn:new Audio("./assets/audio/click-btn.wav"),flag:new Audio("./assets/audio/flag.wav"),openCell:new Audio("./assets/audio/open-cell.wav"),win:new Audio("./assets/audio/win.wav")};function x(n,e,t,o,s){const i=document.createElement(`${n}`);return e&&e.forEach((n=>{i.classList.add(n)})),t&&t.forEach((n=>{i.setAttribute(`${n[0]}`,`${n[1]}`)})),o&&(i.textContent=o),"button"===n&&function(n,e,t,o){n.addEventListener("click",(()=>{y[t]&&o.soundOn&&(y[t].currentTime=0,y[t].play())}))}(i,0,"clickBtn",s),i}function k(n,e,t,o,s,i){n.mode!==s&&(n.mode=s,n.setCols(e),n.setRows(t),n.setBombs(o),n.setBombsRemained(o),n.setCellSize(i),n.clearBoard(),n.initField(),n.drawField())}function S(n,e){const t=document.querySelector(".bombs-remained"),o=document.querySelector(".flags-used");t.textContent=`Mines remained: ${n}`,o.textContent=`Flags used: ${e}`}function $(n){const e=document.querySelector(".results-list");e.innerHTML="",n.forEach(((n,t)=>{e.append(function(n,e){const t=x("div",["result-row"],null,null),o=x("div",["result-number"],null,`${e}`),s=x("div",["result-moves"],null,`${n[0]}`),i=x("div",["result-seconds"],null,`${n[1]}`);return t.append(o,s,i),t}(n,t+1))}))}const C={1:"#b4c679",2:"#acae4e",3:"#84843f",4:"#595a35",5:"#303229",6:"#ae1f00",7:"#c80f00",8:"#e30007"},R={opened:"#fff1fd",closed:"#ffcce0",mistaken:"#ae1f00",border:"#fff"},L={cells:{opened:"#fff1fd",closed:"#ffcce0",mistaken:"#ae1f00",border:"#fff"},numbers:{1:"#b4c679",2:"#acae4e",3:"#84843f",4:"#595a35",5:"#303229",6:"#ae1f00",7:"#c80f00",8:"#e30007"},bomb:"#fe0023"},T={cells:{opened:"#1c76a6",closed:"#0f3f59",mistaken:"#ffac45",border:"#000"},numbers:{1:"#65b8e5",2:"#8bcaeb",3:"#b2dbf2",4:"#b7ed81",5:"#b9eb60",6:"#c4ea3e",7:"#d9ea1b",8:"#ffdb00"},bomb:"#fff164"};function F(e,t,o,s,i){const r=t+s/2,l=o+s/2;e.fillStyle=`${n[i].bomb}`,e.beginPath(),e.arc(r,l,s/4,0,2*Math.PI),e.fill()}function B(e,t,o,s,i){e.fillStyle=`${n[i].cells.closed}`,e.fillRect(t,o,s,s),e.strokeStyle=`${n[i].cells.border}`,e.strokeRect(t,o,s,s)}function E(e,t,o,s,i){e.fillStyle=`${n[i].cells.opened}`,e.fillRect(t,o,s,s),e.strokeStyle=`${n[i].cells.border}`,e.strokeRect(t,o,s,s)}function M(e,t,o,s,i){e.fillStyle=`${n[i].cells.mistaken}`,e.fillRect(t,o,s,s),e.strokeStyle=`${n[i].cells.border}`,e.strokeRect(t,o,s,s)}function z(e,t,o,s,i){const r=t+s/3,l=o+s/7,a=o+s-s/7,c=r+s/3,d=(l+a)/2;e.beginPath(),e.moveTo(r,l),e.lineTo(r,a),e.strokeStyle="brown",e.lineWidth=1,e.stroke(),e.beginPath(),e.moveTo(r,l+3),e.lineTo(c,d),e.lineTo(r,a-3),e.fillStyle=`${n[i].bomb}`,e.fill()}function U(e,t,o,s,i,r){const l=.8*s;e.font=`${l}px Arial`,e.fillStyle=`${n[r].numbers[i]}`;const a=e.measureText(i),c=t+s/2-a.width/2,d=o+s/2+a.actualBoundingBoxAscent/2;e.fillText(i,c,d)}function O(n,e,t,o){t.toggleFlag(),t.isFlagged?z(n,t.x*e,t.y*e,e,o):B(n,t.x*e,t.y*e,e,o)}function N(n,e){return Math.floor(n/e)}class A{constructor(n,e){this.isBomb=!1,this.isFlagged=!1,this.isClosed=!0,this.numBombsNearby=0,this.x=n,this.y=e}increaseNumBombsNearby(){this.numBombsNearby+=1}setBomb(){this.isBomb=!0}open(){this.isClosed=!1}toggleFlag(){this.isFlagged=!this.isFlagged}}function P(n,e,t,o,s){const i=t.length,r=t[0].length,l=o.x,a=o.y,c=l*e,d=a*e,u=o.numBombsNearby;if(E(n,c,d,e,s),o.open(),0!==u)U(n,c,d,e,u,s);else for(let o=l-1;o<=l+1;o+=1)for(let l=a-1;l<=a+1;l+=1)if(o>=0&&o<i&&l>=0&&l<r){const i=t[o][l];i.isClosed&&!i.isFlagged&&P(n,e,t,i,s)}}function j(n,e,t,o,s){if(!o.isFlagged&&o.isClosed)if(o.isBomb){o.open();const t=o.x*e,i=o.y*e;M(n,t,i,e,s),F(n,t,i,e,s)}else P(n,e,t,o,s)}function I(n){document.querySelector(".moves").textContent=n}function W(n){document.querySelector(".seconds").textContent=n}function _(n){document.querySelector(".message").textContent=n}class q{constructor(n,e,t){this.bombs=10,this.bombsPositions=[],this.bombsRemained=10,this.canvas=n,this.cellSize=e,this.cols=10,this.ctx=n.getContext("2d"),this.field=[],this.flagsUsed=0,this.hasContent=!1,this.isFinished=!1,this.mode="easy",this.moves=0,this.rows=10,this.results=this.getStoredResults()?this.getStoredResults():[],this.seconds=0,this.soundOn=!0,this.theme=t}saveResults(){localStorage.setItem("results",JSON.stringify(this.results))}getStoredResults(){const n=localStorage.getItem("results");return JSON.parse(n)}checkResult(n){const e=function(n){const e=n.length,t=n[0].length,o=[];for(let s=0;s<e;s+=1)for(let e=0;e<t;e+=1)o.push(n[s][e]);const s=o.filter((n=>!0===n.isClosed)),i=o.filter((n=>n.isBomb));if(s.length===i.length)return!0}(this.field);n.isBomb&&!n.isFlagged?(_("Game over. Try again"),this.finish()):e&&(this.soundOn&&y.win.play(),_(`Hooray! You found all mines in ${this.seconds} seconds and ${this.moves} moves!`),this.updateResults(),this.saveResults(),$(this.results),this.finish())}updateResults(){this.results.push([this.moves,this.seconds]),this.results.length>10&&this.results.shift()}clearBoard(){this.bombsPositions=[],this.field=[],this.isFinished=!1,this.hasContent=!1,this.moves=0,this.stopTimer(),this.seconds=0,this.flagsUsed=0,I(this.moves),S(this.bombsRemained,this.flagsUsed),W(this.seconds),_("")}drawField(){!function(n,e,t,o,s,i,r,l,a){if(i.width=a.cols*o,i.height=a.rows*o,r)for(let i=0;i<t;i+=1)for(let t=0;t<e;t+=1){const e=s[i][t];e.isClosed?(B(n,i*o,t*o,o,l),e.isFlagged&&z(n,i*o,t*o,o,l)):e.isBomb?(M(n,i*o,t*o,o,l),F(n,i*o,t*o,o,l)):(E(n,i*o,t*o,o,l),0!==e.numBombsNearby&&U(n,i*o,t*o,o,e.numBombsNearby,l))}else for(let s=0;s<t;s+=1)for(let t=0;t<e;t+=1)B(n,s*o,t*o,o,l)}(this.ctx,this.rows,this.cols,this.cellSize,this.field,this.canvas,this.hasContent,this.theme,this)}finish(){this.stopTimer(),this.isFinished=!0}flagCell(n){this.bombsRemained>0?(this.soundOn&&(y.flag.currentTime=0,y.flag.play()),n.isFlagged?(this.bombsRemained+=1,this.flagsUsed-=1):(this.bombsRemained-=1,this.flagsUsed+=1),S(this.bombsRemained,this.flagsUsed),O(this.ctx,this.cellSize,n,this.theme)):n.isFlagged&&(this.bombsRemained+=1,this.flagsUsed-=1,S(this.bombsRemained,this.flagsUsed),O(this.ctx,this.cellSize,n,this.theme))}getCell(n){return this.field[N(n.offsetX,this.cellSize)][N(n.offsetY,this.cellSize)]}increaseMoves(){this.moves+=1,I(this.moves)}increaseSeconds=()=>{W(this.seconds),this.seconds+=1,this.timerId=setTimeout(this.increaseSeconds,1e3)};initField(){!function(n){if(!n.hasContent)for(let e=0;e<n.cols;e+=1){n.field.push([]);for(let t=0;t<n.rows;t+=1)n.field[e].push(new A(e,t))}}(this)}openCell(n){!n.isFlagged&&n.isClosed&&(this.increaseMoves(),n.isBomb?this.soundOn&&(y.bomb.currentTime=0,y.bomb.play()):this.soundOn&&(y.openCell.currentTime=0,y.openCell.play())),j(this.ctx,this.cellSize,this.field,n,this.theme)}placeBombs(n){!function(n,e,t,o,s,i){let r=0;for(;r<o;){const o=Math.floor(Math.random()*n),l=Math.floor(Math.random()*e);t[l][o].isBomb||t[l][o]===t[i.x][i.y]||(t[l][o].setBomb(),r+=1,s.push([l,o]))}}(this.rows,this.cols,this.field,this.bombs,this.bombsPositions,n)}placeNumbers(){var n,e,t;n=this.rows,e=this.cols,t=this.field,this.bombsPositions.forEach((o=>{const s=o[0],i=o[1];for(let o=s-1;o<=s+1;o+=1)for(let s=i-1;s<=i+1;s+=1)o>=0&&o<e&&s>=0&&s<n&&t[o][s].increaseNumBombsNearby()}))}setBombs(n){this.bombs=n}setBombsRemained(n){this.bombsRemained=n}setCellSize(n){this.cellSize=n}setCols(n){this.cols=n}setContent(){this.hasContent=!0}setMode(n){this.mode=n}setRows(n){this.rows=n}startTimer(){this.timerId=setTimeout(this.increaseSeconds,0)}stopTimer(){clearTimeout(this.timerId)}toggleSound(){this.soundOn=!this.soundOn}}let H;window.innerWidth,H=window.innerWidth*w.tablet.easy,function(n,e="light"){const t=document.querySelector(".body");t.classList.add(`${e}`);const o=x("canvas",["canvas"],null,null),s=x("div",["message"],null,null);if(o.getContext){const i=new q(o,n,e),r=function(n){const e=x("h1",["heading",`${n.theme}`],null,"Minesweeper"),t=x("header",["header",`${n.theme}`],null,null),o=x("div",["container-btn"],null,null),s=x("button",["btn",`${n.theme}`],null,null,n),i=x("button",["btn",`${n.theme}`],null,null,n),r=x("button",["btn",`${n.theme}`],null,"Easy",n),l=x("button",["btn",`${n.theme}`],null,"Medium",n),a=x("button",["btn",`${n.theme}`],null,"Hard",n),c=x("div",["btn-icon","switch-theme",`${n.theme}`],null,null),d=x("div",["btn-icon","toggle-sound",`${n.theme}`],null,null);let u;return u=window.innerWidth>1300?w.desktop:window.innerWidth>700?w.tablet:w.mobile,r.addEventListener("click",(()=>{k(n,10,10,10,"easy",window.innerWidth*u.easy)})),l.addEventListener("click",(()=>{k(n,15,15,40,"medium",window.innerWidth*u.medium)})),a.addEventListener("click",(()=>{k(n,25,25,90,"hard",window.innerWidth*u.hard)})),s.addEventListener("click",(()=>{const e="light"===n.theme?"dark":"light";document.querySelectorAll(`.${n.theme}`).forEach((t=>{t.classList.remove(n.theme),t.classList.add(e)})),n.theme=e,n.drawField()})),i.addEventListener("click",(()=>{d.classList.toggle("sound-off"),n.toggleSound()})),s.append(c),i.append(d),o.append(i,s,r,l,a),t.append(e,o),t}(i),l=function(n){const e=x("div",["results",`${n.theme}`],null,null),t=x("h3",["caption",`${n.theme}`],null,"Results:"),o=x("div",["result-row"],null,null),s=x("h4",["result-heading","result-number"],null,"#"),i=x("h4",["result-heading","result-moves"],null,"Moves"),r=x("h4",["result-heading","result-seconds"],null,"Time"),l=x("ul",["results-list"],null,null);return o.append(s,i,r),e.append(t,o,l),e}(i),a=function(n){const e=x("div",["top-bar",`${n.theme}`],null,null),t=x("button",["btn",`${n.theme}`],null,null,n),o=x("button",["btn",`${n.theme}`],null,null,n),s=x("div",["seconds",`${n.theme}`],null,"0"),i=x("div",["moves",`${n.theme}`],null,"0"),r=x("div",["btn-icon","new-game",`${n.theme}`],null,null),l=x("div",["btn-icon","set-bombs",`${n.theme}`],null,null);return t.addEventListener("click",(()=>{n.setBombsRemained(n.bombs),n.clearBoard(),n.initField(),n.drawField()})),o.addEventListener("click",(()=>{const t=function(n){const e=[["type","number"],["min","1"],["max","99"],["value",`${n.bombs}`]],t=x("div",["pop-up",`${n.theme}`],null,null),o=x("label",null,null,"Choose amount of bombs:"),s=x("input",["input-bombs",`${n.theme}`],e,null),i=x("button",["btn",`${n.theme}`],null,"Set",n),r=x("button",["btn","btn_close",`${n.theme}`],null,null,n),l=x("div",["btn-icon","close",`${n.theme}`],null,null);return s.addEventListener("change",(n=>{n.target.value>99&&(n.target.value=99),n.target.value<1&&(n.target.value=1)})),i.addEventListener("click",(()=>{!function(n,e){n.clearBoard(),n.setBombs(e),n.initField(),n.drawField()}(n,s.value),S(s.value,0),t.remove()})),r.addEventListener("click",(()=>{t.remove()})),r.append(l),o.append(s,i),t.append(o,r),t}(n);e.append(t)})),t.append(r),o.append(l),e.append(t,s,i,o),e}(i),c=x("div",["container-game",`${i.theme}`],null,null),d=x("div",["bombs-remained"],null,`Mines remained: ${i.bombsRemained}`),u=x("div",["flags-used"],null,`Flags used: ${i.flagsUsed}`);c.append(a,o),t.append(r,c,d,u,s,l),i.results.length>0&&$(i.results),i.initField(),i.drawField(),o.addEventListener("click",(n=>{const e=n.offsetX>=0&&n.offsetX<o.width;if(n.offsetY>=0&&n.offsetY<o.height&&e&&!i.isFinished){const e=i.getCell(n);i.hasContent||(i.setContent(),i.placeBombs(e),i.placeNumbers(),i.startTimer()),i.openCell(e),i.checkResult(e)}})),o.addEventListener("contextmenu",(n=>{if(!i.isFinished){n.preventDefault();const e=i.getCell(n);e.isClosed&&i.flagCell(e)}})),window.addEventListener("resize",(()=>{let n;n=window.innerWidth>1300?w.desktop:window.innerWidth>700?w.tablet:w.mobile,i.setCellSize(n[i.mode]*window.innerWidth),i.drawField()}))}else s.textContent="Unfortunately, it's not possible to play the game in this browser, try another one"}(H)}()}();